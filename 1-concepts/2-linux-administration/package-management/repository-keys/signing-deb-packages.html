<!DOCTYPE html>
<html><head>
<meta http-equiv="content-type" content="text/html; charset=UTF-8"><meta charset="utf-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width"><link rel="canonical" href="https://blog.packagecloud.io/eng/2014/10/28/howto-gpg-sign-verify-deb-packages-apt-repositories/"><style> html { position: relative; min-height: 100%; }</style><script async="" src="signing-deb-package_files/analytics.js"></script><script type="text/javascript"> (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){ (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o), m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m) })(window,document,'script','//www.google-analytics.com/analytics.js','ga'); ga('create', 'UA-49973003-2', 'auto'); ga('send', 'pageview'); </script><title>HOWTO: GPG sign and verify deb packages and APT repositories - Packagecloud Blog</title><link rel="stylesheet" type="text/css" href="signing-deb-package_files/application-59f2e6591c56aa29bd2b86e290e91011580349eb64dd1895.css"> <meta property="og:title" content="HOWTO: GPG sign and verify deb packages and APT repositories"><meta name="author" content="Joe Damato"><meta property="og:locale" content="en_US"><meta name="description" content="TL;DR GPG can be used to create a digital signature for both Debian package files and for APT repository metadata. Many Debian-based Linux distributions (e.g., Ubuntu) have GPG signature verification of Debian package files (.deb) disabled by default and instead choose to verify GPG signatures of repository metadata and source packages (.dsc). The setting which enables GPG signature checking of the individal .deb packages can be found in /etc/dpkg/dpkg.cfg and is set to no-debsig, but there are important caveats to enabling this option explained below. Further, most official Debian package files from the publicly accessible repositories do not have GPG signatures. The official repository metadata is GPG signed, as are the source packages, but the .deb packages themselves are not. If you publish a Debian package and GPG sign the package yourself before distributing it to users, those users’ systems will, in most cases, not verify the signature of the package unless they have done a considerable amount of configuration. However, their system will, in most cases, automatically verify repository metadata. This post explains how Debian package GPG signatures are implemented, how to enable GPG signature checking of packages on your system, and how to GPG sign packages you create. This post will also explain how APT repository GPG signatures are implemented and how to sign your APT repository metadata. Create an APT repository in less than 10 seconds, free. Sign up! Debian package GPG signatures Signing data with a GPG key enables the recipient of the data to verify that no modifications occurred after the data was signed (assuming the recipient has a copy of the sender’s public GPG key). Debian package files (.deb files), Debian source packages (.dsc files), and Debian changes files (.changes files) can all be signed with GPG. GPG signing Debian source packages (.dsc files) and changes files Debian source packages and Debian changes files are text-based files which can be used to rebuild a Debian package from source code. Theses files can be signed with a GPG key by using a program called debsign. debsign will add a GPG signature to .dsc and .changes files themselves. You can use debsign like this: $ debsign -k E732A79A test_1.0-7.dsc This command specifies the GPG key ID to use when signing the Debian source file test_1.0-7.dsc. The signature is embedded in the file test_1.0-7.dsc and can be verified by running: $ gpg --verify test_1.0-7.dsc The Debian source package file and changes file both contain SHA1, SHA256, and MD5 checksums of all source files that comprise the source package. Since this data is signed, any modifications to the source file checksums, file size, or other data in the dsc or changes files would cause signature verification to fail. As long as a recipient who wishes to build the deb package from a dsc file verifies the checksums of each file in the source package and verifies the signature of the source package itself, the recipient knows their build uses precisely the same files that the packager used when building. apt-get source packagename will automatically check the GPG signature of the source package file and the checksums of the source files listed in the source package. GPG signing Debian package files (.deb files) A Debian package file itself is actually an AR archive that contains at least three entries: debian-binary: a file describing the deb format version control: an archive containing package metadata such as pre-install or post-install scripts data: an archive containing the actual installable files The control and data archives are typically tar, tar.gz, tar.bz2, tar.xz, tar.lzma, or another archive format. When a Debian package is signed with a GPG key, the signature is also included in the archive and is named based on its type. Debian package signatures are typically associated with a role. Some commonly used roles include: origin: the signature of the organization which distributes the .deb file maint: the signature of the package maintainer archive: the signature of the archive providing the package to reassure users that the package is the actually provided by the archive In order to sign a Debian package, you can use the program debsigs: $ debsigs --sign=origin -k E732A79A test_1.0-7_amd64.deb In the above example, the Debian file is signed using the GPG key on my system with the ID E732A79A. The signature type is origin and thus the deb package will be modified to include a file called _gpgorigin that contains the GPG signature of the debian-binary file, control archive, and data archive from the deb package concatenated together. I used the type origin because I am person distributing the deb package test_1.0-7_amd64.deb. Verifying signatures on Debian .deb package files is a bit more involved than the other verification methods. Verifying GPG signatures of .deb package files In order to verify .deb package files, you must have the program debsig-verify installed, import the public GPG keys you will use to verify packages to the debsig-verify keyrings, and you must also create an XML policy document for signature verification. First, create a keyring directory for the public key and import the public key to the debsig-verify GPG keyring: $ mkdir /usr/share/debsig/keyrings/DDDF2F4CE732A79A/ $ gpg --no-default-keyring \ --keyring /usr/share/debsig/keyrings/DDDF2F4CE732A79A/debsig.gpg \ --import my-public-key In the above example, the keyring subdirectory, DDDF2F4CE732A79A, is the fingerprint of the GPG key which will be imported. Note that the name of the keyring debsig.gpg will be used in the XML policy document created next. You can use any filename you like. Now that the public key is imported, the XML policy document can be constructed. First, create a directory for the policy document. It must have the GPG key fingerprint in the path: $ mkdir /etc/debsig/policies/DDDF2F4CE732A79A/ Next create the XML document. The debsig-verify man page indicates that the filename is irrelevant so long as the filename ends with .pol and resides in a directory named after the GPG key fingerpint. You can find more information regarding how the build the policy document in /usr/share/doc/debsig-verify/policy-syntax.txt and some examples in /usr/share/doc/debsig-verify/examples. Here’s an example XML policy document: &lt;?xml version=&quot;1.0&quot;?&gt; &lt;!DOCTYPE Policy SYSTEM &quot;http://www.debian.org/debsig/1.0/policy.dtd&quot;&gt; &lt;Policy xmlns=&quot;http://www.debian.org/debsig/1.0/&quot;&gt; &lt;Origin Name=&quot;test&quot; id=&quot;DDDF2F4CE732A79A&quot; Description=&quot;Test package&quot;/&gt; &lt;Selection&gt; &lt;Required Type=&quot;origin&quot; File=&quot;debsig.gpg&quot; id=&quot;DDDF2F4CE732A79A&quot;/&gt; &lt;/Selection&gt; &lt;Verification MinOptional=&quot;0&quot;&gt; &lt;Required Type=&quot;origin&quot; File=&quot;debsig.gpg&quot; id=&quot;DDDF2F4CE732A79A&quot;/&gt; &lt;/Verification&gt; &lt;/Policy&gt; Once this document is constructed, you can verify the GPG signature of the Debian .deb package: $ debsig-verify test_1.0-7_amd64.deb debsig: Verified package from `Test package' (test) dpkg support for debsig-verify dpkg has support for verifying GPG signatures of Debian package files, but this verification is disabled by default. This means that when a package is installed on a Debian-based system, the signature checking for individual packages is disabled. In order to enable it, the file /etc/dpkg/dpkg.cfg will need to be modified to remove the no-debsig option from the config file. CAUTION: Doing this may cause dpkg to reject installation of unsigned Debian files. If you plan to enable this, it is strongly recommended you try this first in a testing environment. You’ll also need to ensure you have the correct XML policy files created, as explained above. Another Debian package signing tool: dpkg-sig There is a another tool available for signing and verifying Debian package files called dpkg-sig. Signatures created by this tool are not compatible with debsigs and the tools cannot understand or verify each other signatures. dpkg-sig generates a Debian control file with several userful fields: Version of dpkg-sig which generated the signature Gpg key signer information Role Files section with checksums, file sizes, and filenames of the control, data, and debian-binary files in the Debian package This file is named based on the role selected, which is defaulted to builder if none is specified. So, signing a Debian package file with no role would result in a file named _gpgbuilder being created and added to the package file. This file is signed with GPG and the signature is embedded as plain text (a “clearsign” GPG signature). The result of this scheme is that the GPG signature can be verified using commonly available software. The Debian package can be extracted with ar and the signature of the control file can be checked with just gpg --verify. Signing a Debian file with dpkg-sig is straight forward: $ dpkg-sig -k E732A79A --sign builder test_1.0-7_amd64.deb The signature can also be checked by using dpkg-sig directly, if desired: $ dpkg-sig --verify test_1.0-7_amd64.deb Processing test_1.0-7_amd64.deb... GOODSIG _gpgbuilder 284E8BE753AE45DFF8D82748DDDF2F4CE732A79A 1414371553 Additionally, no XML policy document is required for signature verification, which makes signature verification much simpler to integrate into a workflow. dpkg support for dpkg-sig Unfortunately, dpkg does not have built-in support for dpkg-sig, but the discussion appears to have been moved to a bug ticket with Debian (last updated in 2012): https://bugs.debian.org/cgi-bin/bugreport.cgi?bug=340306. GPG signatures for APT repository metadata It is also possible to generate GPG signatures for APT repositories in addition to generating signatures for Debian packages themselves. Generating signatures of the repository metadata allows you to verify that the repository metadata has not been tampered with since it was generated by the repository host. This is critical to preventing a Man-in-the-Middle attack attack where a malicious actor plants repository metadata causing a user’s package manager to install potentially malicious packages. Luckily, generating GPG sigantures for APT repositories is straightforward with reprepro. Assuming you have a GPG key you’d like to use to sign the repository metadata, you can simply modify your reprepro repository config to add your GPG key. Using the same GPG key ID used in the earlier examples, the conf/distributions config file can be modified to add the field: SignWith: E732A79A This will cause reprepro to generate GPG signatures of the repository metadata. reprepro will generate a signature of the apt Release file and store the signature in the file Release.gpg. This is called a “detached GPG signature.” Newer version of reprepro will generate an embedded text GPG signature (a “clearsign” GPG signature) in a file named InRelease. The apt client will download the GPG Release file(s) it understands and will automatically attempt to verify the GPG signature of the repository. Users of the repository will need to have the GPG key installed on the system. This can be done by end users running the command: apt-key: $ sudo bash -c 'wget -O - https://packagecloud.io/gpg.key | apt-key add -' The above command downloads a GPG key and adds the GPG key to the system using apt-key. Conclusion GPG signing of Debian package files, source packages, and repository metadata is critical to establishing the authenticity of the package objects and repository metadata. Knowing that a package being installed on your system is the same package that was generated by a vendor, and that you were able to retrieve that package from the repository generated by the vendor is the only way to ensure that you are safely installing software in your infrastructure. Unfortunately, signing and checking the signatures of Debian packages is not as streamlined and integrated as it could be, so vendors currently signing their Debian package files may be surprised to learn that the majority of their customers are not automatically checking the GPG signature of their packages. At the very least, vendors should be signing their repository metadata. Also signing their Debian package files and providing instructions for how users can verify those signatures would be a great way to help improve their end user’s security. packagecloud.io signs repository metadata it generates using a GPG key so that users of our repositories know, without a doubt, that the repository metadata their package manager downloaded was generated by packagecloud.io. Related posts Attacks against GPG signed APT repositories GPG sign and verify RPM packages and YUM repositories Inspecting and extracting Debian package contents Inspecting and extracting RPM package contents"><meta property="og:description" content="TL;DR GPG can be used to create a digital signature for both Debian package files and for APT repository metadata. Many Debian-based Linux distributions (e.g., Ubuntu) have GPG signature verification of Debian package files (.deb) disabled by default and instead choose to verify GPG signatures of repository metadata and source packages (.dsc). The setting which enables GPG signature checking of the individal .deb packages can be found in /etc/dpkg/dpkg.cfg and is set to no-debsig, but there are important caveats to enabling this option explained below. Further, most official Debian package files from the publicly accessible repositories do not have GPG signatures. The official repository metadata is GPG signed, as are the source packages, but the .deb packages themselves are not. If you publish a Debian package and GPG sign the package yourself before distributing it to users, those users’ systems will, in most cases, not verify the signature of the package unless they have done a considerable amount of configuration. However, their system will, in most cases, automatically verify repository metadata. This post explains how Debian package GPG signatures are implemented, how to enable GPG signature checking of packages on your system, and how to GPG sign packages you create. This post will also explain how APT repository GPG signatures are implemented and how to sign your APT repository metadata. Create an APT repository in less than 10 seconds, free. Sign up! Debian package GPG signatures Signing data with a GPG key enables the recipient of the data to verify that no modifications occurred after the data was signed (assuming the recipient has a copy of the sender’s public GPG key). Debian package files (.deb files), Debian source packages (.dsc files), and Debian changes files (.changes files) can all be signed with GPG. GPG signing Debian source packages (.dsc files) and changes files Debian source packages and Debian changes files are text-based files which can be used to rebuild a Debian package from source code. Theses files can be signed with a GPG key by using a program called debsign. debsign will add a GPG signature to .dsc and .changes files themselves. You can use debsign like this: $ debsign -k E732A79A test_1.0-7.dsc This command specifies the GPG key ID to use when signing the Debian source file test_1.0-7.dsc. The signature is embedded in the file test_1.0-7.dsc and can be verified by running: $ gpg --verify test_1.0-7.dsc The Debian source package file and changes file both contain SHA1, SHA256, and MD5 checksums of all source files that comprise the source package. Since this data is signed, any modifications to the source file checksums, file size, or other data in the dsc or changes files would cause signature verification to fail. As long as a recipient who wishes to build the deb package from a dsc file verifies the checksums of each file in the source package and verifies the signature of the source package itself, the recipient knows their build uses precisely the same files that the packager used when building. apt-get source packagename will automatically check the GPG signature of the source package file and the checksums of the source files listed in the source package. GPG signing Debian package files (.deb files) A Debian package file itself is actually an AR archive that contains at least three entries: debian-binary: a file describing the deb format version control: an archive containing package metadata such as pre-install or post-install scripts data: an archive containing the actual installable files The control and data archives are typically tar, tar.gz, tar.bz2, tar.xz, tar.lzma, or another archive format. When a Debian package is signed with a GPG key, the signature is also included in the archive and is named based on its type. Debian package signatures are typically associated with a role. Some commonly used roles include: origin: the signature of the organization which distributes the .deb file maint: the signature of the package maintainer archive: the signature of the archive providing the package to reassure users that the package is the actually provided by the archive In order to sign a Debian package, you can use the program debsigs: $ debsigs --sign=origin -k E732A79A test_1.0-7_amd64.deb In the above example, the Debian file is signed using the GPG key on my system with the ID E732A79A. The signature type is origin and thus the deb package will be modified to include a file called _gpgorigin that contains the GPG signature of the debian-binary file, control archive, and data archive from the deb package concatenated together. I used the type origin because I am person distributing the deb package test_1.0-7_amd64.deb. Verifying signatures on Debian .deb package files is a bit more involved than the other verification methods. Verifying GPG signatures of .deb package files In order to verify .deb package files, you must have the program debsig-verify installed, import the public GPG keys you will use to verify packages to the debsig-verify keyrings, and you must also create an XML policy document for signature verification. First, create a keyring directory for the public key and import the public key to the debsig-verify GPG keyring: $ mkdir /usr/share/debsig/keyrings/DDDF2F4CE732A79A/ $ gpg --no-default-keyring \ --keyring /usr/share/debsig/keyrings/DDDF2F4CE732A79A/debsig.gpg \ --import my-public-key In the above example, the keyring subdirectory, DDDF2F4CE732A79A, is the fingerprint of the GPG key which will be imported. Note that the name of the keyring debsig.gpg will be used in the XML policy document created next. You can use any filename you like. Now that the public key is imported, the XML policy document can be constructed. First, create a directory for the policy document. It must have the GPG key fingerprint in the path: $ mkdir /etc/debsig/policies/DDDF2F4CE732A79A/ Next create the XML document. The debsig-verify man page indicates that the filename is irrelevant so long as the filename ends with .pol and resides in a directory named after the GPG key fingerpint. You can find more information regarding how the build the policy document in /usr/share/doc/debsig-verify/policy-syntax.txt and some examples in /usr/share/doc/debsig-verify/examples. Here’s an example XML policy document: &lt;?xml version=&quot;1.0&quot;?&gt; &lt;!DOCTYPE Policy SYSTEM &quot;http://www.debian.org/debsig/1.0/policy.dtd&quot;&gt; &lt;Policy xmlns=&quot;http://www.debian.org/debsig/1.0/&quot;&gt; &lt;Origin Name=&quot;test&quot; id=&quot;DDDF2F4CE732A79A&quot; Description=&quot;Test package&quot;/&gt; &lt;Selection&gt; &lt;Required Type=&quot;origin&quot; File=&quot;debsig.gpg&quot; id=&quot;DDDF2F4CE732A79A&quot;/&gt; &lt;/Selection&gt; &lt;Verification MinOptional=&quot;0&quot;&gt; &lt;Required Type=&quot;origin&quot; File=&quot;debsig.gpg&quot; id=&quot;DDDF2F4CE732A79A&quot;/&gt; &lt;/Verification&gt; &lt;/Policy&gt; Once this document is constructed, you can verify the GPG signature of the Debian .deb package: $ debsig-verify test_1.0-7_amd64.deb debsig: Verified package from `Test package' (test) dpkg support for debsig-verify dpkg has support for verifying GPG signatures of Debian package files, but this verification is disabled by default. This means that when a package is installed on a Debian-based system, the signature checking for individual packages is disabled. In order to enable it, the file /etc/dpkg/dpkg.cfg will need to be modified to remove the no-debsig option from the config file. CAUTION: Doing this may cause dpkg to reject installation of unsigned Debian files. If you plan to enable this, it is strongly recommended you try this first in a testing environment. You’ll also need to ensure you have the correct XML policy files created, as explained above. Another Debian package signing tool: dpkg-sig There is a another tool available for signing and verifying Debian package files called dpkg-sig. Signatures created by this tool are not compatible with debsigs and the tools cannot understand or verify each other signatures. dpkg-sig generates a Debian control file with several userful fields: Version of dpkg-sig which generated the signature Gpg key signer information Role Files section with checksums, file sizes, and filenames of the control, data, and debian-binary files in the Debian package This file is named based on the role selected, which is defaulted to builder if none is specified. So, signing a Debian package file with no role would result in a file named _gpgbuilder being created and added to the package file. This file is signed with GPG and the signature is embedded as plain text (a “clearsign” GPG signature). The result of this scheme is that the GPG signature can be verified using commonly available software. The Debian package can be extracted with ar and the signature of the control file can be checked with just gpg --verify. Signing a Debian file with dpkg-sig is straight forward: $ dpkg-sig -k E732A79A --sign builder test_1.0-7_amd64.deb The signature can also be checked by using dpkg-sig directly, if desired: $ dpkg-sig --verify test_1.0-7_amd64.deb Processing test_1.0-7_amd64.deb... GOODSIG _gpgbuilder 284E8BE753AE45DFF8D82748DDDF2F4CE732A79A 1414371553 Additionally, no XML policy document is required for signature verification, which makes signature verification much simpler to integrate into a workflow. dpkg support for dpkg-sig Unfortunately, dpkg does not have built-in support for dpkg-sig, but the discussion appears to have been moved to a bug ticket with Debian (last updated in 2012): https://bugs.debian.org/cgi-bin/bugreport.cgi?bug=340306. GPG signatures for APT repository metadata It is also possible to generate GPG signatures for APT repositories in addition to generating signatures for Debian packages themselves. Generating signatures of the repository metadata allows you to verify that the repository metadata has not been tampered with since it was generated by the repository host. This is critical to preventing a Man-in-the-Middle attack attack where a malicious actor plants repository metadata causing a user’s package manager to install potentially malicious packages. Luckily, generating GPG sigantures for APT repositories is straightforward with reprepro. Assuming you have a GPG key you’d like to use to sign the repository metadata, you can simply modify your reprepro repository config to add your GPG key. Using the same GPG key ID used in the earlier examples, the conf/distributions config file can be modified to add the field: SignWith: E732A79A This will cause reprepro to generate GPG signatures of the repository metadata. reprepro will generate a signature of the apt Release file and store the signature in the file Release.gpg. This is called a “detached GPG signature.” Newer version of reprepro will generate an embedded text GPG signature (a “clearsign” GPG signature) in a file named InRelease. The apt client will download the GPG Release file(s) it understands and will automatically attempt to verify the GPG signature of the repository. Users of the repository will need to have the GPG key installed on the system. This can be done by end users running the command: apt-key: $ sudo bash -c 'wget -O - https://packagecloud.io/gpg.key | apt-key add -' The above command downloads a GPG key and adds the GPG key to the system using apt-key. Conclusion GPG signing of Debian package files, source packages, and repository metadata is critical to establishing the authenticity of the package objects and repository metadata. Knowing that a package being installed on your system is the same package that was generated by a vendor, and that you were able to retrieve that package from the repository generated by the vendor is the only way to ensure that you are safely installing software in your infrastructure. Unfortunately, signing and checking the signatures of Debian packages is not as streamlined and integrated as it could be, so vendors currently signing their Debian package files may be surprised to learn that the majority of their customers are not automatically checking the GPG signature of their packages. At the very least, vendors should be signing their repository metadata. Also signing their Debian package files and providing instructions for how users can verify those signatures would be a great way to help improve their end user’s security. packagecloud.io signs repository metadata it generates using a GPG key so that users of our repositories know, without a doubt, that the repository metadata their package manager downloaded was generated by packagecloud.io. Related posts Attacks against GPG signed APT repositories GPG sign and verify RPM packages and YUM repositories Inspecting and extracting Debian package contents Inspecting and extracting RPM package contents"><link rel="canonical" href="https://blog.packagecloud.io/eng/2014/10/28/howto-gpg-sign-verify-deb-packages-apt-repositories/"><meta property="og:url" content="https://blog.packagecloud.io/eng/2014/10/28/howto-gpg-sign-verify-deb-packages-apt-repositories/"><meta property="og:site_name" content="Packagecloud Blog"><meta property="og:type" content="article"><meta property="article:published_time" content="2014-10-28T00:00:00-07:00"><meta name="twitter:card" content="summary"><meta name="twitter:site" content="@packagecloudio"><meta name="twitter:creator" content="@Joe Damato"> <script type="application/ld+json"> {"name":null,"description":"TL;DR GPG can be used to create a digital signature for both Debian package files and for APT repository metadata. Many Debian-based Linux distributions (e.g., Ubuntu) have GPG signature verification of Debian package files (.deb) disabled by default and instead choose to verify GPG signatures of repository metadata and source packages (.dsc). The setting which enables GPG signature checking of the individal .deb packages can be found in /etc/dpkg/dpkg.cfg and is set to no-debsig, but there are important caveats to enabling this option explained below. Further, most official Debian package files from the publicly accessible repositories do not have GPG signatures. The official repository metadata is GPG signed, as are the source packages, but the .deb packages themselves are not. If you publish a Debian package and GPG sign the package yourself before distributing it to users, those users’ systems will, in most cases, not verify the signature of the package unless they have done a considerable amount of configuration. However, their system will, in most cases, automatically verify repository metadata. This post explains how Debian package GPG signatures are implemented, how to enable GPG signature checking of packages on your system, and how to GPG sign packages you create. This post will also explain how APT repository GPG signatures are implemented and how to sign your APT repository metadata. Create an APT repository in less than 10 seconds, free. Sign up! Debian package GPG signatures Signing data with a GPG key enables the recipient of the data to verify that no modifications occurred after the data was signed (assuming the recipient has a copy of the sender’s public GPG key). Debian package files (.deb files), Debian source packages (.dsc files), and Debian changes files (.changes files) can all be signed with GPG. GPG signing Debian source packages (.dsc files) and changes files Debian source packages and Debian changes files are text-based files which can be used to rebuild a Debian package from source code. Theses files can be signed with a GPG key by using a program called debsign. debsign will add a GPG signature to .dsc and .changes files themselves. You can use debsign like this: $ debsign -k E732A79A test_1.0-7.dsc This command specifies the GPG key ID to use when signing the Debian source file test_1.0-7.dsc. The signature is embedded in the file test_1.0-7.dsc and can be verified by running: $ gpg --verify test_1.0-7.dsc The Debian source package file and changes file both contain SHA1, SHA256, and MD5 checksums of all source files that comprise the source package. Since this data is signed, any modifications to the source file checksums, file size, or other data in the dsc or changes files would cause signature verification to fail. As long as a recipient who wishes to build the deb package from a dsc file verifies the checksums of each file in the source package and verifies the signature of the source package itself, the recipient knows their build uses precisely the same files that the packager used when building. apt-get source packagename will automatically check the GPG signature of the source package file and the checksums of the source files listed in the source package. GPG signing Debian package files (.deb files) A Debian package file itself is actually an AR archive that contains at least three entries: debian-binary: a file describing the deb format version control: an archive containing package metadata such as pre-install or post-install scripts data: an archive containing the actual installable files The control and data archives are typically tar, tar.gz, tar.bz2, tar.xz, tar.lzma, or another archive format. When a Debian package is signed with a GPG key, the signature is also included in the archive and is named based on its type. Debian package signatures are typically associated with a role. Some commonly used roles include: origin: the signature of the organization which distributes the .deb file maint: the signature of the package maintainer archive: the signature of the archive providing the package to reassure users that the package is the actually provided by the archive In order to sign a Debian package, you can use the program debsigs: $ debsigs --sign=origin -k E732A79A test_1.0-7_amd64.deb In the above example, the Debian file is signed using the GPG key on my system with the ID E732A79A. The signature type is origin and thus the deb package will be modified to include a file called _gpgorigin that contains the GPG signature of the debian-binary file, control archive, and data archive from the deb package concatenated together. I used the type origin because I am person distributing the deb package test_1.0-7_amd64.deb. Verifying signatures on Debian .deb package files is a bit more involved than the other verification methods. Verifying GPG signatures of .deb package files In order to verify .deb package files, you must have the program debsig-verify installed, import the public GPG keys you will use to verify packages to the debsig-verify keyrings, and you must also create an XML policy document for signature verification. First, create a keyring directory for the public key and import the public key to the debsig-verify GPG keyring: $ mkdir /usr/share/debsig/keyrings/DDDF2F4CE732A79A/ $ gpg --no-default-keyring \\ --keyring /usr/share/debsig/keyrings/DDDF2F4CE732A79A/debsig.gpg \\ --import my-public-key In the above example, the keyring subdirectory, DDDF2F4CE732A79A, is the fingerprint of the GPG key which will be imported. Note that the name of the keyring debsig.gpg will be used in the XML policy document created next. You can use any filename you like. Now that the public key is imported, the XML policy document can be constructed. First, create a directory for the policy document. It must have the GPG key fingerprint in the path: $ mkdir /etc/debsig/policies/DDDF2F4CE732A79A/ Next create the XML document. The debsig-verify man page indicates that the filename is irrelevant so long as the filename ends with .pol and resides in a directory named after the GPG key fingerpint. You can find more information regarding how the build the policy document in /usr/share/doc/debsig-verify/policy-syntax.txt and some examples in /usr/share/doc/debsig-verify/examples. Here’s an example XML policy document: &lt;?xml version=&quot;1.0&quot;?&gt; &lt;!DOCTYPE Policy SYSTEM &quot;http://www.debian.org/debsig/1.0/policy.dtd&quot;&gt; &lt;Policy xmlns=&quot;http://www.debian.org/debsig/1.0/&quot;&gt; &lt;Origin Name=&quot;test&quot; id=&quot;DDDF2F4CE732A79A&quot; Description=&quot;Test package&quot;/&gt; &lt;Selection&gt; &lt;Required Type=&quot;origin&quot; File=&quot;debsig.gpg&quot; id=&quot;DDDF2F4CE732A79A&quot;/&gt; &lt;/Selection&gt; &lt;Verification MinOptional=&quot;0&quot;&gt; &lt;Required Type=&quot;origin&quot; File=&quot;debsig.gpg&quot; id=&quot;DDDF2F4CE732A79A&quot;/&gt; &lt;/Verification&gt; &lt;/Policy&gt; Once this document is constructed, you can verify the GPG signature of the Debian .deb package: $ debsig-verify test_1.0-7_amd64.deb debsig: Verified package from `Test package&#39; (test) dpkg support for debsig-verify dpkg has support for verifying GPG signatures of Debian package files, but this verification is disabled by default. This means that when a package is installed on a Debian-based system, the signature checking for individual packages is disabled. In order to enable it, the file /etc/dpkg/dpkg.cfg will need to be modified to remove the no-debsig option from the config file. CAUTION: Doing this may cause dpkg to reject installation of unsigned Debian files. If you plan to enable this, it is strongly recommended you try this first in a testing environment. You’ll also need to ensure you have the correct XML policy files created, as explained above. Another Debian package signing tool: dpkg-sig There is a another tool available for signing and verifying Debian package files called dpkg-sig. Signatures created by this tool are not compatible with debsigs and the tools cannot understand or verify each other signatures. dpkg-sig generates a Debian control file with several userful fields: Version of dpkg-sig which generated the signature Gpg key signer information Role Files section with checksums, file sizes, and filenames of the control, data, and debian-binary files in the Debian package This file is named based on the role selected, which is defaulted to builder if none is specified. So, signing a Debian package file with no role would result in a file named _gpgbuilder being created and added to the package file. This file is signed with GPG and the signature is embedded as plain text (a “clearsign” GPG signature). The result of this scheme is that the GPG signature can be verified using commonly available software. The Debian package can be extracted with ar and the signature of the control file can be checked with just gpg --verify. Signing a Debian file with dpkg-sig is straight forward: $ dpkg-sig -k E732A79A --sign builder test_1.0-7_amd64.deb The signature can also be checked by using dpkg-sig directly, if desired: $ dpkg-sig --verify test_1.0-7_amd64.deb Processing test_1.0-7_amd64.deb... GOODSIG _gpgbuilder 284E8BE753AE45DFF8D82748DDDF2F4CE732A79A 1414371553 Additionally, no XML policy document is required for signature verification, which makes signature verification much simpler to integrate into a workflow. dpkg support for dpkg-sig Unfortunately, dpkg does not have built-in support for dpkg-sig, but the discussion appears to have been moved to a bug ticket with Debian (last updated in 2012): https://bugs.debian.org/cgi-bin/bugreport.cgi?bug=340306. GPG signatures for APT repository metadata It is also possible to generate GPG signatures for APT repositories in addition to generating signatures for Debian packages themselves. Generating signatures of the repository metadata allows you to verify that the repository metadata has not been tampered with since it was generated by the repository host. This is critical to preventing a Man-in-the-Middle attack attack where a malicious actor plants repository metadata causing a user’s package manager to install potentially malicious packages. Luckily, generating GPG sigantures for APT repositories is straightforward with reprepro. Assuming you have a GPG key you’d like to use to sign the repository metadata, you can simply modify your reprepro repository config to add your GPG key. Using the same GPG key ID used in the earlier examples, the conf/distributions config file can be modified to add the field: SignWith: E732A79A This will cause reprepro to generate GPG signatures of the repository metadata. reprepro will generate a signature of the apt Release file and store the signature in the file Release.gpg. This is called a “detached GPG signature.” Newer version of reprepro will generate an embedded text GPG signature (a “clearsign” GPG signature) in a file named InRelease. The apt client will download the GPG Release file(s) it understands and will automatically attempt to verify the GPG signature of the repository. Users of the repository will need to have the GPG key installed on the system. This can be done by end users running the command: apt-key: $ sudo bash -c &#39;wget -O - https://packagecloud.io/gpg.key | apt-key add -&#39; The above command downloads a GPG key and adds the GPG key to the system using apt-key. Conclusion GPG signing of Debian package files, source packages, and repository metadata is critical to establishing the authenticity of the package objects and repository metadata. Knowing that a package being installed on your system is the same package that was generated by a vendor, and that you were able to retrieve that package from the repository generated by the vendor is the only way to ensure that you are safely installing software in your infrastructure. Unfortunately, signing and checking the signatures of Debian packages is not as streamlined and integrated as it could be, so vendors currently signing their Debian package files may be surprised to learn that the majority of their customers are not automatically checking the GPG signature of their packages. At the very least, vendors should be signing their repository metadata. Also signing their Debian package files and providing instructions for how users can verify those signatures would be a great way to help improve their end user’s security. packagecloud.io signs repository metadata it generates using a GPG key so that users of our repositories know, without a doubt, that the repository metadata their package manager downloaded was generated by packagecloud.io. Related posts Attacks against GPG signed APT repositories GPG sign and verify RPM packages and YUM repositories Inspecting and extracting Debian package contents Inspecting and extracting RPM package contents","author":{"@type":"Person","name":"Joe Damato"},"@type":"BlogPosting","url":"https://blog.packagecloud.io/eng/2014/10/28/howto-gpg-sign-verify-deb-packages-apt-repositories/","publisher":null,"image":null,"headline":"HOWTO: GPG sign and verify deb packages and APT repositories","dateModified":"2014-10-28T00:00:00-07:00","datePublished":"2014-10-28T00:00:00-07:00","sameAs":null,"mainEntityOfPage":{"@type":"WebPage","@id":"https://blog.packagecloud.io/eng/2014/10/28/howto-gpg-sign-verify-deb-packages-apt-repositories/"},"@context":"http://schema.org"}</script><link type="application/atom+xml" rel="alternate" href="https://blog.packagecloud.io/feed.xml" title="Packagecloud Blog">  </head><body><div class="navbar navbar-default navbar-top"><div class="container"><div class="row"><div class="col-md-4 navbar-header"> <a href="https://packagecloud.io/?utm_campaign=cmkt&amp;utm_medium=header&amp;utm_source=/eng/2014/10/28/howto-gpg-sign-verify-deb-packages-apt-repositories" class="navbar-brand"><span class="glyphicon glyphicon-cloud"></span><span class="package">package</span><span class="cloud">cloud</span></a><a href="https://blog.packagecloud.io/" class="navbar-brand"><span class="cloud">:blog</span></a></div><div class="col-md-8 header-callout"><div class="newsletter-callout slideout-to-bottom"> <button class="close">close</button><h2>Never miss an update!</h2><div id="mc_embed_signup"> <form action="//packagecloud.us11.list-manage.com/subscribe/post?u=b115c1c550228aef6706f11e0&amp;id=3e91296be1" method="post" id="mc-embedded-subscribe-form-top" name="mc-embedded-subscribe-form" class="validate" target="_blank" novalidate=""><div class="container" id="mc_embed_signup_scroll"><div class="row mc-field-group"><div class="subscribe-elements"> <input type="email" name="EMAIL" class="required email" id="mce-EMAIL" placeholder="Subscribe to our blog via email"> <input type="submit" value="Sign up!" name="subscribe" id="mc-embedded-subscribe" class="btn btn-primary anim-btn"></div></div><div id="mce-responses" class="clear"><div class="response" id="mce-error-response" style="display:none"></div><div class="response" id="mce-success-response" style="display:none"></div></div><div style="position: absolute; left: -5000px;"> <input type="text" name="b_b115c1c550228aef6706f11e0_1647acac08" tabindex="-1"></div></div></form><div class="reader-img"> <a href="http://feeds.feedburner.com/PackagecloudBlog" class="btn btn-primary" rel="alternate" type="application/rss+xml" target="_blank">Subscribe to our RSS feed</a> <label for="remember">Already signed up?</label> <input id="remember" type="checkbox" name="remember" value=""></div></div></div></div></div></div></div><div class="main-content container"><div class="row"><div class="col-md-12"><nav> <a class="back-to-top-fixed" href="#">back to top</a> <a class="back-to-posts-link" href="https://blog.packagecloud.io/">back to posts</a></nav><section><div class="post"><header class="post-header"><h1>HOWTO: GPG sign and verify deb packages and APT repositories</h1><p class="meta">Oct 28, 2014 • Joe Damato</p></header><div class="tags" id="tags"><h4>Tags:</h4><ul><li class="inline archive_list"><a class="tag_list_link" href="https://blog.packagecloud.io/tag/debian-howto">debian-howto</a></li></ul></div><article class="post-content type-system-sans"><h1 id="tldr">TL;DR</h1><p><a href="http://en.wikipedia.org/wiki/GNU_Privacy_Guard">GPG</a> can be used to create a <a href="http://en.wikipedia.org/wiki/Digital_signature">digital signature</a> for <em>both</em> Debian package files and for APT repository metadata.</p><p>Many
 Debian-based Linux distributions (e.g., Ubuntu) have GPG signature 
verification of Debian package files (.deb) disabled by default and 
instead choose to verify GPG signatures of repository metadata and 
source packages (.dsc). The setting which enables GPG signature checking
 of the individal .deb packages can be found in <code class="highlighter-rouge">/etc/dpkg/dpkg.cfg</code> and is set to <code class="highlighter-rouge">no-debsig</code>, but there are important caveats to enabling this option explained below.</p><p>Further, most official Debian package files from the publicly accessible repositories <em>do not have</em>
 GPG signatures. The official repository metadata is GPG signed, as are 
the source packages, but the .deb packages themselves are not.</p><p>If 
you publish a Debian package and GPG sign the package yourself before 
distributing it to users, those users’ systems will, in most cases, not 
verify the signature of the package unless they have done a considerable
 amount of configuration. However, their system will, in most cases, 
automatically verify repository metadata.</p><p>This post explains how 
Debian package GPG signatures are implemented, how to enable GPG 
signature checking of packages on your system, and how to GPG sign 
packages you create.</p><p>This post will also explain how APT repository GPG signatures are implemented and how to sign your APT repository metadata.</p><div class="button-container callout"><div class="large-link-container"> <a href="https://packagecloud.io/l/apt-repository?utm_campaign=cmkt&amp;utm_medium=callout&amp;utm_source=/eng/2014/10/28/howto-gpg-sign-verify-deb-packages-apt-repositories&amp;utm_term=Create%20an%20APT%20repository%20in%20less%20than%2010%20seconds,%20free." id="signup-banner-link"></a></div><p>Create an APT repository in less than 10 seconds, free.</p><div class="sign-up-button" data-landing-page="/l/apt-repository" data-callout-text="Create an APT repository in less than 10 seconds, free." data-source="/eng/2014/10/28/howto-gpg-sign-verify-deb-packages-apt-repositories"> <a href="https://packagecloud.io/l/apt-repository?utm_campaign=cmkt&amp;utm_medium=callout&amp;utm_source=/eng/2014/10/28/howto-gpg-sign-verify-deb-packages-apt-repositories&amp;utm_term=Create%20an%20APT%20repository%20in%20less%20than%2010%20seconds,%20free." id="signup-banner-link"> <button class="anim-btn btn btn-primary btn-default">Sign up!</button> </a></div></div><h1 id="debian-package-gpg-signatures">Debian package GPG signatures</h1><p>Signing
 data with a GPG key enables the recipient of the data to verify that no
 modifications occurred after the data was signed (assuming the 
recipient has a copy of the sender’s public GPG key).</p><p>Debian 
package files (.deb files), Debian source packages (.dsc files), and 
Debian changes files (.changes files) can all be signed with GPG.</p><h1 id="gpg-signing-debian-source-packages-dsc-files-and-changes-files">GPG signing Debian source packages (.dsc files) and changes files</h1><p>Debian
 source packages and Debian changes files are text-based files which can
 be used to rebuild a Debian package from source code. Theses files can 
be signed with a GPG key by using a program called <code class="highlighter-rouge">debsign</code>.</p><p><code class="highlighter-rouge">debsign</code> will add a GPG signature to .dsc and .changes files themselves. You can use <code class="highlighter-rouge">debsign</code> like this:</p><figure class="highlight"><pre><code class="language-bash" data-lang="bash"><span class="nv">$ </span>debsign <span class="nt">-k</span> E732A79A test_1.0-7.dsc</code></pre></figure><p>This command specifies the GPG key ID to use when signing the Debian source file <code class="highlighter-rouge">test_1.0-7.dsc</code>. The signature is embedded in the file <code class="highlighter-rouge">test_1.0-7.dsc</code> and can be verified by running:</p><figure class="highlight"><pre><code class="language-bash" data-lang="bash"><span class="nv">$ </span>gpg <span class="nt">--verify</span> test_1.0-7.dsc</code></pre></figure><p>The
 Debian source package file and changes file both contain SHA1, SHA256, 
and MD5 checksums of all source files that comprise the source package. 
Since this data is signed, any modifications to the source file 
checksums, file size, or other data in the dsc or changes files would 
cause signature verification to fail.</p><p>As long as a recipient who 
wishes to build the deb package from a dsc file verifies the checksums 
of each file in the source package and verifies the signature of the 
source package itself, the recipient knows their build uses precisely 
the same files that the packager used when building.</p><p><code class="highlighter-rouge">apt-get source packagename</code>
 will automatically check the GPG signature of the source package file 
and the checksums of the source files listed in the source package.</p><h1 id="gpg-signing-debian-package-files-deb-files">GPG signing Debian package files (.deb files)</h1><p>A Debian package file itself is actually an <a href="http://en.wikipedia.org/wiki/Ar_(Unix)">AR archive</a> that contains at least three entries:</p><ul><li><code class="highlighter-rouge">debian-binary</code>: a file describing the deb format version</li><li><code class="highlighter-rouge">control</code>: an archive containing package metadata such as pre-install or post-install scripts</li><li><code class="highlighter-rouge">data</code>: an archive containing the actual installable files</li></ul><p>The <code class="highlighter-rouge">control</code> and <code class="highlighter-rouge">data</code> archives are typically <code class="highlighter-rouge">tar</code>, <code class="highlighter-rouge">tar.gz</code>, <code class="highlighter-rouge">tar.bz2</code>, <code class="highlighter-rouge">tar.xz</code>, <code class="highlighter-rouge">tar.lzma</code>, or another archive format.</p><p>When a Debian package is signed with a GPG key, the signature is also included in the archive and is named based on its type.</p><p>Debian package signatures are typically associated with a role. Some commonly used roles include:</p><ul><li><code class="highlighter-rouge">origin</code>: the signature of the organization which distributes the .deb file</li><li><code class="highlighter-rouge">maint</code>: the signature of the package maintainer</li><li><code class="highlighter-rouge">archive</code>: the signature of the archive providing the package to reassure users that the package is the actually provided by the archive</li></ul><p>In order to sign a Debian package, you can use the program <code class="highlighter-rouge">debsigs</code>:</p><figure class="highlight"><pre><code class="language-bash" data-lang="bash"><span class="nv">$ </span>debsigs <span class="nt">--sign</span><span class="o">=</span>origin <span class="nt">-k</span> E732A79A test_1.0-7_amd64.deb</code></pre></figure><p>In the above example, the Debian file is signed using the GPG key on my system with the ID E732A79A. The signature type is <code class="highlighter-rouge">origin</code> and thus the deb package will be modified to include a file called <code class="highlighter-rouge">_gpgorigin</code> that contains the GPG signature of the <code class="highlighter-rouge">debian-binary</code> file, <code class="highlighter-rouge">control</code> archive, and <code class="highlighter-rouge">data</code> archive from the deb package concatenated together.</p><p>I used the type origin because I am person distributing the deb package test_1.0-7_amd64.deb.</p><p>Verifying signatures on Debian .deb package files is a bit more involved than the other verification methods.</p><h1 id="verifying-gpg-signatures-of-deb-package-files">Verifying GPG signatures of .deb package files</h1><p>In order to verify .deb package files, you must have the program <code class="highlighter-rouge">debsig-verify</code> installed, import the public GPG keys you will use to verify packages to the <code class="highlighter-rouge">debsig-verify</code> keyrings, and you must also create an XML policy document for signature verification.</p><p>First, create a keyring directory for the public key and import the public key to the <code class="highlighter-rouge">debsig-verify</code> GPG keyring:</p><figure class="highlight"><pre><code class="language-bash" data-lang="bash"><span class="nv">$ </span>mkdir /usr/share/debsig/keyrings/DDDF2F4CE732A79A/</code></pre></figure><figure class="highlight"><pre><code class="language-bash" data-lang="bash"><span class="nv">$ </span>gpg <span class="nt">--no-default-keyring</span> <span class="se">\</span>
      <span class="nt">--keyring</span> /usr/share/debsig/keyrings/DDDF2F4CE732A79A/debsig.gpg <span class="se">\</span>
      <span class="nt">--import</span> my-public-key</code></pre></figure><p>In
 the above example, the keyring subdirectory, DDDF2F4CE732A79A, is the 
fingerprint of the GPG key which will be imported. Note that the name of
 the keyring <code class="highlighter-rouge">debsig.gpg</code> will be used in the XML policy document created next. You can use any filename you like.</p><p>Now that the public key is imported, the XML policy document can be constructed.</p><p>First, create a directory for the policy document. It must have the GPG key fingerprint in the path:</p><figure class="highlight"><pre><code class="language-bash" data-lang="bash"><span class="nv">$ </span>mkdir /etc/debsig/policies/DDDF2F4CE732A79A/</code></pre></figure><p>Next create the XML document. The <code class="highlighter-rouge">debsig-verify</code> man page indicates that the filename is irrelevant so long as the filename ends with <code class="highlighter-rouge">.pol</code> and resides in a directory named after the GPG key fingerpint.</p><p>You can find more information regarding how the build the policy document in <code class="highlighter-rouge">/usr/share/doc/debsig-verify/policy-syntax.txt</code> and some examples in <code class="highlighter-rouge">/usr/share/doc/debsig-verify/examples</code>.</p><p>Here’s an example XML policy document:</p><figure class="highlight"><pre><code class="language-xml" data-lang="xml"><span class="cp">&lt;?xml version="1.0"?&gt;</span>
<span class="cp">&lt;!DOCTYPE Policy SYSTEM "http://www.debian.org/debsig/1.0/policy.dtd"&gt;</span>
<span class="nt">&lt;Policy</span> <span class="na">xmlns=</span><span class="s">"http://www.debian.org/debsig/1.0/"</span><span class="nt">&gt;</span>

  <span class="nt">&lt;Origin</span> <span class="na">Name=</span><span class="s">"test"</span> <span class="na">id=</span><span class="s">"DDDF2F4CE732A79A"</span> <span class="na">Description=</span><span class="s">"Test package"</span><span class="nt">/&gt;</span>

  <span class="nt">&lt;Selection&gt;</span>
    <span class="nt">&lt;Required</span> <span class="na">Type=</span><span class="s">"origin"</span> <span class="na">File=</span><span class="s">"debsig.gpg"</span> <span class="na">id=</span><span class="s">"DDDF2F4CE732A79A"</span><span class="nt">/&gt;</span>
  <span class="nt">&lt;/Selection&gt;</span>

   <span class="nt">&lt;Verification</span> <span class="na">MinOptional=</span><span class="s">"0"</span><span class="nt">&gt;</span>
    <span class="nt">&lt;Required</span> <span class="na">Type=</span><span class="s">"origin"</span> <span class="na">File=</span><span class="s">"debsig.gpg"</span> <span class="na">id=</span><span class="s">"DDDF2F4CE732A79A"</span><span class="nt">/&gt;</span>
   <span class="nt">&lt;/Verification&gt;</span>
<span class="nt">&lt;/Policy&gt;</span></code></pre></figure><p>Once this document is constructed, you can verify the GPG signature of the Debian .deb package:</p><figure class="highlight"><pre><code class="language-bash" data-lang="bash"><span class="nv">$ </span>debsig-verify test_1.0-7_amd64.deb
debsig: Verified package from <span class="sb">`</span>Test package<span class="s1">' (test)</span></code></pre></figure><h1 id="dpkg-support-for-debsig-verify"><code class="highlighter-rouge">dpkg</code> support for <code class="highlighter-rouge">debsig-verify</code></h1><p><a href="http://en.wikipedia.org/wiki/Dpkg">dpkg</a>
 has support for verifying GPG signatures of Debian package files, but 
this verification is disabled by default. This means that when a package
 is installed on a Debian-based system, the signature checking for 
individual packages is disabled.</p><p>In order to enable it, the file <code class="highlighter-rouge">/etc/dpkg/dpkg.cfg</code> will need to be modified to remove the <code class="highlighter-rouge">no-debsig</code> option from the config file.</p><p>CAUTION: Doing this may cause dpkg to reject installation of unsigned Debian files. If you plan to enable this, it is <em>strongly recommended</em>
 you try this first in a testing environment. You’ll also need to ensure
 you have the correct XML policy files created, as explained above.</p><h1 id="another-debian-package-signing-tool-dpkg-sig">Another Debian package signing tool: <code class="highlighter-rouge">dpkg-sig</code></h1><p>There is a another tool available for signing and verifying Debian package files called <code class="highlighter-rouge">dpkg-sig</code>. Signatures created by this tool are <em>not compatible</em> with debsigs and the tools cannot understand or verify each other signatures.</p><p><code class="highlighter-rouge">dpkg-sig</code> generates a Debian <a href="https://www.debian.org/doc/debian-policy/ch-controlfields.html">control file</a> with several userful fields:</p><ul><li>Version of dpkg-sig which generated the signature</li><li>Gpg key signer information</li><li>Role</li><li>Files section with checksums, file sizes, and filenames of the control, data, and debian-binary files in the Debian package</li></ul><p>This
 file is named based on the role selected, which is defaulted to builder
 if none is specified. So, signing a Debian package file with no role 
would result in a file named <code class="highlighter-rouge">_gpgbuilder</code>
 being created and added to the package file. This file is signed with 
GPG and the signature is embedded as plain text (a “clearsign” GPG 
signature).</p><p>The result of this scheme is that the GPG signature 
can be verified using commonly available software. The Debian package 
can be extracted with <code class="highlighter-rouge">ar</code> and the signature of the control file can be checked with just <code class="highlighter-rouge">gpg --verify</code>.</p><p>Signing a Debian file with <code class="highlighter-rouge">dpkg-sig</code> is straight forward:</p><figure class="highlight"><pre><code class="language-bash" data-lang="bash"><span class="nv">$ </span>dpkg-sig <span class="nt">-k</span> E732A79A <span class="nt">--sign</span> builder test_1.0-7_amd64.deb</code></pre></figure><p>The signature can also be checked by using <code class="highlighter-rouge">dpkg-sig</code> directly, if desired:</p><figure class="highlight"><pre><code class="language-bash" data-lang="bash"><span class="nv">$ </span>dpkg-sig <span class="nt">--verify</span> test_1.0-7_amd64.deb
Processing test_1.0-7_amd64.deb...
GOODSIG _gpgbuilder 284E8BE753AE45DFF8D82748DDDF2F4CE732A79A 1414371553</code></pre></figure><p>Additionally,
 no XML policy document is required for signature verification, which 
makes signature verification much simpler to integrate into a workflow.</p><h1 id="dpkg-support-for-dpkg-sig"><code class="highlighter-rouge">dpkg</code> support for <code class="highlighter-rouge">dpkg-sig</code></h1><p>Unfortunately, <code class="highlighter-rouge">dpkg</code> does not have built-in support for <code class="highlighter-rouge">dpkg-sig</code>, but the discussion appears to have been moved to a bug ticket with Debian (last updated in 2012): <a href="https://bugs.debian.org/cgi-bin/bugreport.cgi?bug=340306">https://bugs.debian.org/cgi-bin/bugreport.cgi?bug=340306</a>.</p><h1 id="gpg-signatures-for-apt-repository-metadata">GPG signatures for APT repository metadata</h1><p>It
 is also possible to generate GPG signatures for APT repositories in 
addition to generating signatures for Debian packages themselves.</p><p>Generating
 signatures of the repository metadata allows you to verify that the 
repository metadata has not been tampered with since it was generated by
 the repository host.</p><p>This is critical to preventing a <a href="http://en.wikipedia.org/wiki/Man-in-the-middle_attack">Man-in-the-Middle attack</a>
 attack where a malicious actor plants repository metadata causing a 
user’s package manager to install potentially malicious packages.</p><p>Luckily, generating GPG sigantures for APT repositories is straightforward with <code class="highlighter-rouge">reprepro</code>.</p><p>Assuming you have a GPG key you’d like to use to sign the repository metadata, you can simply modify your <code class="highlighter-rouge">reprepro</code> repository config to add your GPG key.</p><p>Using the same GPG key ID used in the earlier examples, the <code class="highlighter-rouge">conf/distributions</code> config file can be modified to add the field:</p><div class="highlighter-rouge"><div class="highlight"><pre class="highlight"><code>SignWith: E732A79A
</code></pre></div></div><p>This will cause <code class="highlighter-rouge">reprepro</code> to generate GPG signatures of the repository metadata. <code class="highlighter-rouge">reprepro</code> will generate a signature of the apt <code class="highlighter-rouge">Release</code> file and store the signature in the file <code class="highlighter-rouge">Release.gpg</code>. This is called a “detached GPG signature.”</p><p>Newer version of <code class="highlighter-rouge">reprepro</code> will generate an embedded text GPG signature (a “clearsign” GPG signature) in a file named <code class="highlighter-rouge">InRelease</code>.</p><p>The <code class="highlighter-rouge">apt</code>
 client will download the GPG Release file(s) it understands and will 
automatically attempt to verify the GPG signature of the repository.</p><p>Users
 of the repository will need to have the GPG key installed on the 
system. This can be done by end users running the command: <code class="highlighter-rouge">apt-key</code>:</p><figure class="highlight"><pre><code class="language-bash" data-lang="bash"><span class="nv">$ </span><span class="nb">sudo </span>bash <span class="nt">-c</span> <span class="s1">'wget -O - https://packagecloud.io/gpg.key | apt-key add -'</span></code></pre></figure><p>The above command downloads a GPG key and adds the GPG key to the system using <code class="highlighter-rouge">apt-key</code>.</p><h1 id="conclusion">Conclusion</h1><p>GPG
 signing of Debian package files, source packages, and repository 
metadata is critical to establishing the authenticity of the package 
objects and repository metadata.</p><p>Knowing that a package being 
installed on your system is the same package that was generated by a 
vendor, and that you were able to retrieve that package from the 
repository generated by the vendor is the only way to ensure that you 
are safely installing software in your infrastructure.</p><p>Unfortunately,
 signing and checking the signatures of Debian packages is not as 
streamlined and integrated as it could be, so vendors currently signing 
their Debian package files may be surprised to learn that the majority 
of their customers are not automatically checking the GPG signature of 
their packages. At the very least, vendors should be signing their 
repository metadata. Also signing their Debian package files and 
providing instructions for how users can verify those signatures would 
be a great way to help improve their end user’s security.</p><p><a href="https://packagecloud.io/">packagecloud.io</a>
 signs repository metadata it generates using a GPG key so that users of
 our repositories know, without a doubt, that the repository metadata 
their package manager downloaded was generated by packagecloud.io.</p><h1 id="related-posts">Related posts</h1><ul><li><a href="https://blog.packagecloud.io/eng/2018/02/21/attacks-against-secure-apt-repositories/">Attacks against GPG signed APT repositories</a></li><li><a href="https://blog.packagecloud.io/eng/2014/11/24/howto-gpg-sign-verify-rpm-packages-yum-repositories/">GPG sign and verify RPM packages and YUM repositories</a></li><li><a href="https://blog.packagecloud.io/eng/2015/10/13/inspect-extract-contents-debian-packages/">Inspecting and extracting Debian package contents</a></li><li><a href="https://blog.packagecloud.io/eng/2015/10/13/inspect-extract-contents-rpm-packages/">Inspecting and extracting RPM package contents</a></li></ul></article><section class="sharing col-md-12"><h4>Share this post:</h4> <a class="resp-sharing-button__link fbc-has-badge fbc-UID_1" href="https://facebook.com/sharer/sharer.php?u=https://blog.packagecloud.io/eng/2014/10/28/howto-gpg-sign-verify-deb-packages-apt-repositories/" target="_blank" aria-label=""><div class="resp-sharing-button resp-sharing-button--facebook resp-sharing-button--small"><div aria-hidden="true" class="resp-sharing-button__icon resp-sharing-button__icon--solid"> <svg version="1.1" x="0px" y="0px" width="24px" height="24px" viewBox="0 0 24 24" enable-background="new 0 0 24 24" xml:space="preserve"> <g><path d="M18.768,7.465H14.5V5.56c0-0.896,0.594-1.105,1.012-1.105s2.988,0,2.988,0V0.513L14.171,0.5C10.244,0.5,9.5,3.438,9.5,5.32 v2.145h-3v4h3c0,5.212,0,12,0,12h5c0,0,0-6.85,0-12h3.851L18.768,7.465z"></path> </g> </svg></div></div></a>  <a class="resp-sharing-button__link" href="https://twitter.com/intent/tweet/?text=HOWTO:%20GPG%20sign%20and%20verify%20deb%20packages%20and%20APT%20repositories&amp;url=https://blog.packagecloud.io/eng/2014/10/28/howto-gpg-sign-verify-deb-packages-apt-repositories/" target="_blank" aria-label=""><div class="resp-sharing-button resp-sharing-button--twitter resp-sharing-button--small"><div aria-hidden="true" class="resp-sharing-button__icon resp-sharing-button__icon--solid"> <svg version="1.1" x="0px" y="0px" width="24px" height="24px" viewBox="0 0 24 24" enable-background="new 0 0 24 24" xml:space="preserve"> <g><path d="M23.444,4.834c-0.814,0.363-1.5,0.375-2.228,0.016c0.938-0.562,0.981-0.957,1.32-2.019c-0.878,0.521-1.851,0.9-2.886,1.104 C18.823,3.053,17.642,2.5,16.335,2.5c-2.51,0-4.544,2.036-4.544,4.544c0,0.356,0.04,0.703,0.117,1.036 C8.132,7.891,4.783,6.082,2.542,3.332C2.151,4.003,1.927,4.784,1.927,5.617c0,1.577,0.803,2.967,2.021,3.782 C3.203,9.375,2.503,9.171,1.891,8.831C1.89,8.85,1.89,8.868,1.89,8.888c0,2.202,1.566,4.038,3.646,4.456 c-0.666,0.181-1.368,0.209-2.053,0.079c0.579,1.804,2.257,3.118,4.245,3.155C5.783,18.102,3.372,18.737,1,18.459 C3.012,19.748,5.399,20.5,7.966,20.5c8.358,0,12.928-6.924,12.928-12.929c0-0.198-0.003-0.393-0.012-0.588 C21.769,6.343,22.835,5.746,23.444,4.834z"></path> </g> </svg></div></div></a>  <a class="resp-sharing-button__link" href="https://plus.google.com/share?url=https://blog.packagecloud.io/eng/2014/10/28/howto-gpg-sign-verify-deb-packages-apt-repositories/" target="_blank" aria-label=""><div class="resp-sharing-button resp-sharing-button--google resp-sharing-button--small"><div aria-hidden="true" class="resp-sharing-button__icon resp-sharing-button__icon--solid"> <svg version="1.1" x="0px" y="0px" width="24px" height="24px" viewBox="0 0 24 24" enable-background="new 0 0 24 24" xml:space="preserve"> <g><path d="M11.366,12.928c-0.729-0.516-1.393-1.273-1.404-1.505c0-0.425,0.038-0.627,0.988-1.368 c1.229-0.962,1.906-2.228,1.906-3.564c0-1.212-0.37-2.289-1.001-3.044h0.488c0.102,0,0.2-0.033,0.282-0.091l1.364-0.989 c0.169-0.121,0.24-0.338,0.176-0.536C14.102,1.635,13.918,1.5,13.709,1.5H7.608c-0.667,0-1.345,0.118-2.011,0.347 c-2.225,0.766-3.778,2.66-3.778,4.605c0,2.755,2.134,4.845,4.987,4.91c-0.056,0.22-0.084,0.434-0.084,0.645 c0,0.425,0.108,0.827,0.33,1.216c-0.026,0-0.051,0-0.079,0c-2.72,0-5.175,1.334-6.107,3.32C0.623,17.06,0.5,17.582,0.5,18.098 c0,0.501,0.129,0.984,0.382,1.438c0.585,1.046,1.843,1.861,3.544,2.289c0.877,0.223,1.82,0.335,2.8,0.335 c0.88,0,1.718-0.114,2.494-0.338c2.419-0.702,3.981-2.482,3.981-4.538C13.701,15.312,13.068,14.132,11.366,12.928z M3.66,17.443 c0-1.435,1.823-2.693,3.899-2.693h0.057c0.451,0.005,0.892,0.072,1.309,0.2c0.142,0.098,0.28,0.192,0.412,0.282 c0.962,0.656,1.597,1.088,1.774,1.783c0.041,0.175,0.063,0.35,0.063,0.519c0,1.787-1.333,2.693-3.961,2.693 C5.221,20.225,3.66,19.002,3.66,17.443z M5.551,3.89c0.324-0.371,0.75-0.566,1.227-0.566l0.055,0 c1.349,0.041,2.639,1.543,2.876,3.349c0.133,1.013-0.092,1.964-0.601,2.544C8.782,9.589,8.363,9.783,7.866,9.783H7.865H7.844 c-1.321-0.04-2.639-1.6-2.875-3.405C4.836,5.37,5.049,4.462,5.551,3.89z"></path><polygon points="23.5,9.5 20.5,9.5 20.5,6.5 18.5,6.5 18.5,9.5 15.5,9.5 15.5,11.5 18.5,11.5 18.5,14.5 20.5,14.5 20.5,11.5 23.5,11.5 "></polygon> </g> </svg></div></div></a>  <a class="resp-sharing-button__link" href="https://www.tumblr.com/widgets/share/tool?posttype=link&amp;title=HOWTO:%20GPG%20sign%20and%20verify%20deb%20packages%20and%20APT%20repositories&amp;caption=HOWTO:%20GPG%20sign%20and%20verify%20deb%20packages%20and%20APT%20repositories&amp;content=https://blog.packagecloud.io/eng/2014/10/28/howto-gpg-sign-verify-deb-packages-apt-repositories/&amp;canonicalUrl=https://blog.packagecloud.io/eng/2014/10/28/howto-gpg-sign-verify-deb-packages-apt-repositories/&amp;shareSource=tumblr_share_button" target="_blank" aria-label=""><div class="resp-sharing-button resp-sharing-button--tumblr resp-sharing-button--small"><div aria-hidden="true" class="resp-sharing-button__icon resp-sharing-button__icon--solid"> <svg version="1.1" x="0px" y="0px" width="24px" height="24px" viewBox="0 0 24 24" enable-background="new 0 0 24 24" xml:space="preserve"> <g><path d="M13.5,0.5v5h5v4h-5v5.515c0,5.028,3.52,4.427,6,2.798v4.433c-6.728,3.172-12-0.064-12-4.255V9.5h-3V6.668 c0.903-0.293,2.245-0.714,2.889-1.261c0.646-0.551,1.162-1.208,1.551-1.976C9.331,2.664,9.6,1.686,9.746,0.5H13.5z"></path> </g> </svg></div></div></a>  <a class="resp-sharing-button__link" href="mailto:?subject=HOWTO: GPG sign and verify deb packages and APT repositories&amp;body=https://blog.packagecloud.io/eng/2014/10/28/howto-gpg-sign-verify-deb-packages-apt-repositories/" target="_self" aria-label=""><div class="resp-sharing-button resp-sharing-button--email resp-sharing-button--small"><div aria-hidden="true" class="resp-sharing-button__icon resp-sharing-button__icon--solid"> <svg version="1.1" x="0px" y="0px" width="24px" height="24px" viewBox="0 0 24 24" enable-background="new 0 0 24 24" xml:space="preserve"><path d="M22,4H2C0.897,4,0,4.897,0,6v12c0,1.103,0.897,2,2,2h20c1.103,0,2-0.897,2-2V6C24,4.897,23.103,4,22,4z M7.248,14.434 l-3.5,2C3.67,16.479,3.584,16.5,3.5,16.5c-0.174,0-0.342-0.09-0.435-0.252c-0.137-0.239-0.054-0.545,0.186-0.682l3.5-2 c0.24-0.137,0.545-0.054,0.682,0.186C7.571,13.992,7.488,14.297,7.248,14.434z M12,14.5c-0.094,0-0.189-0.026-0.271-0.08l-8.5-5.5 C2.997,8.77,2.93,8.46,3.081,8.229c0.15-0.23,0.459-0.298,0.691-0.147L12,13.405l8.229-5.324c0.232-0.15,0.542-0.084,0.691,0.147 c0.15,0.232,0.083,0.542-0.148,0.691l-8.5,5.5C12.189,14.474,12.095,14.5,12,14.5z M20.934,16.248 C20.842,16.41,20.673,16.5,20.5,16.5c-0.084,0-0.169-0.021-0.248-0.065l-3.5-2c-0.24-0.137-0.323-0.442-0.186-0.682 s0.443-0.322,0.682-0.186l3.5,2C20.988,15.703,21.071,16.009,20.934,16.248z"></path> </svg></div></div></a>  <a class="resp-sharing-button__link" href="https://reddit.com/submit/?url=https://blog.packagecloud.io/eng/2014/10/28/howto-gpg-sign-verify-deb-packages-apt-repositories/" target="_blank" aria-label=""><div class="resp-sharing-button resp-sharing-button--reddit resp-sharing-button--small"><div aria-hidden="true" class="resp-sharing-button__icon resp-sharing-button__icon--solid"> <svg version="1.1" x="0px" y="0px" width="24px" height="24px" viewBox="0 0 24 24" enable-background="new 0 0 24 24" xml:space="preserve"><path d="M24,11.5c0-1.654-1.346-3-3-3c-0.964,0-1.863,0.476-2.422,1.241c-1.639-1.006-3.747-1.64-6.064-1.723 c0.064-1.11,0.4-3.049,1.508-3.686c0.72-0.414,1.733-0.249,3.01,0.478C17.189,6.317,18.452,7.5,20,7.5c1.654,0,3-1.346,3-3 s-1.346-3-3-3c-1.382,0-2.536,0.944-2.883,2.217C15.688,3,14.479,2.915,13.521,3.466c-1.642,0.945-1.951,3.477-2.008,4.551 C9.186,8.096,7.067,8.731,5.422,9.741C4.863,8.976,3.964,8.5,3,8.5c-1.654,0-3,1.346-3,3c0,1.319,0.836,2.443,2.047,2.844 C2.019,14.56,2,14.778,2,15c0,3.86,4.486,7,10,7s10-3.14,10-7c0-0.222-0.019-0.441-0.048-0.658C23.148,13.938,24,12.795,24,11.5z M2.286,13.366C1.522,13.077,1,12.351,1,11.5c0-1.103,0.897-2,2-2c0.635,0,1.217,0.318,1.59,0.816 C3.488,11.17,2.683,12.211,2.286,13.366z M6,13.5c0-1.103,0.897-2,2-2s2,0.897,2,2c0,1.103-0.897,2-2,2S6,14.603,6,13.5z M15.787,18.314c-1.063,0.612-2.407,0.949-3.787,0.949c-1.387,0-2.737-0.34-3.803-0.958c-0.239-0.139-0.321-0.444-0.182-0.683 c0.139-0.24,0.444-0.322,0.683-0.182c1.828,1.059,4.758,1.062,6.59,0.008c0.239-0.138,0.545-0.055,0.683,0.184 C16.108,17.871,16.026,18.177,15.787,18.314z M16,15.5c-1.103,0-2-0.897-2-2c0-1.103,0.897-2,2-2s2,0.897,2,2 C18,14.603,17.103,15.5,16,15.5z M21.713,13.365c-0.397-1.155-1.201-2.195-2.303-3.048C19.784,9.818,20.366,9.5,21,9.5 c1.103,0,2,0.897,2,2C23,12.335,22.468,13.073,21.713,13.365z"></path> </svg></div></div></a></section></div></section></div></div></div><div class="newsletter-callout slideout-to-bottom"> <button class="close">close</button><h2>Never miss an update!</h2><div id="mc_embed_signup"> <form action="//packagecloud.us11.list-manage.com/subscribe/post?u=b115c1c550228aef6706f11e0&amp;id=3e91296be1" method="post" id="mc-embedded-subscribe-form-slidein" name="mc-embedded-subscribe-form" class="validate" target="_blank" novalidate=""><div class="container" id="mc_embed_signup_scroll"><div class="row mc-field-group"><div class="subscribe-elements"> <input type="email" name="EMAIL" class="required email" id="mce-EMAIL" placeholder="Subscribe to our blog via email"> <input type="submit" value="Sign up!" name="subscribe" id="mc-embedded-subscribe" class="btn btn-primary anim-btn"></div></div><div id="mce-responses" class="clear"><div class="response" id="mce-error-response" style="display:none"></div><div class="response" id="mce-success-response" style="display:none"></div></div><div style="position: absolute; left: -5000px;"> <input type="text" name="b_b115c1c550228aef6706f11e0_1647acac08" tabindex="-1"></div></div></form><div class="reader-img"> <a href="http://feeds.feedburner.com/PackagecloudBlog" class="btn btn-primary" rel="alternate" type="application/rss+xml" target="_blank">Subscribe to our RSS feed</a> <label for="remember">Already signed up?</label> <input id="remember" type="checkbox" name="remember" value=""></div></div></div><div id="footer-container" class="footer-container"><footer><ul class="footer-group"><li class="header">Features</li><li><span><a class="footer-link" href="https://packagecloud.io/docs#travis">Travis CI</a></span></li><li><span><a class="footer-link" href="https://packagecloud.io/docs#jenkins">Jenkins</a></span></li><li><span><a class="footer-link" href="https://packagecloud.io/docs#buildkite">Buildkite</a></span></li><li><span><a class="footer-link" href="https://packagecloud.io/docs#public_private_repos">Public Package Repository</a></span></li><li><span><a class="footer-link" href="https://packagecloud.io/docs#public_private_repos">Private Package Repository</a></span></li><li><span><a class="footer-link" href="https://packagecloud.io/docs#security_features">GPG Signatures</a></span></li></ul><ul class="footer-group"><li class="header">Info</li><li><span><a class="footer-link" href="https://packagecloud.io/pricing">Pricing</a></span></li><li><span><a class="footer-link" href="https://packagecloud.io/l/npm-registry?utm_campaign=cmkt&amp;utm_medium=footer&amp;utm_source=blog">Private NPM registry</a></span></li><li><span><a class="footer-link" href="https://packagecloud.io/l/apt-repository?utm_campaign=cmkt&amp;utm_medium=footer&amp;utm_source=blog">Private DEB repository</a></span></li><li><span><a class="footer-link" href="https://packagecloud.io/l/yum-repository?utm_campaign=cmkt&amp;utm_medium=footer&amp;utm_source=blog">Private RPM repository</a></span></li><li><span><a class="footer-link" href="https://packagecloud.io/l/rubygem-repository?utm_campaign=cmkt&amp;utm_medium=footer&amp;utm_source=blog">Private RubyGem server</a></span></li><li><span><a class="footer-link" href="https://packagecloud.io/l/pypi-repository?utm_campaign=cmkt&amp;utm_medium=footer&amp;utm_source=blog">Private PyPI server</a></span></li><li><span><a class="footer-link" href="https://packagecloud.io/l/maven-repository?utm_campaign=cmkt&amp;utm_medium=footer&amp;utm_source=blog">Private Maven repository</a></span></li></ul><ul class="footer-group"><li class="header">HOWTOs</li><li><span><a class="footer-link" href="https://blog.packagecloud.io/tag/npm-howto">NPM/NodeJS HOWTO</a></span></li><li><span><a class="footer-link" href="https://blog.packagecloud.io/tag/maven-howto">Maven HOWTO</a></span></li><li><span><a class="footer-link" href="https://blog.packagecloud.io/tag/java-howto">Java <br>HOWTO</a></span></li><li><span><a class="footer-link" href="https://blog.packagecloud.io/tag/debian-howto">Debian HOWTO</a></span></li><li><span><a class="footer-link" href="https://blog.packagecloud.io/tag/rpm-howto">RPM HOWTO</a></span></li><li><span><a class="footer-link" href="https://blog.packagecloud.io/tag/rubygem-howto">RubyGem HOWTO</a></span></li><li><span><a class="footer-link" href="https://blog.packagecloud.io/tag/python-howto">Python HOWTO</a></span></li><li><span><a class="footer-link" href="https://blog.packagecloud.io/tag/linux-howto">Linux HOWTO</a></span></li></ul><ul class="footer-group"><li class="header">Guides</li><li><span><a class="footer-link" href="https://blog.packagecloud.io/tag/maven-guide">Maven Guide</a></span></li><li><span><a class="footer-link" href="https://blog.packagecloud.io/tag/debian-guide">Debian Guide</a></span></li><li><span><a class="footer-link" href="https://blog.packagecloud.io/tag/rpm-guide">RPM Guide</a></span></li><li><span><a class="footer-link" href="https://blog.packagecloud.io/tag/rubygem-guide">RubyGem Guide</a></span></li><li><span><a class="footer-link" href="https://blog.packagecloud.io/tag/python-guide">Python Guide</a></span></li><li><span><a class="footer-link" href="https://blog.packagecloud.io/tag/linux">Linux Guide</a></span></li></ul><ul class="footer-group"><li class="header">Docs</li><li><span><a class="footer-link" href="https://packagecloud.io/docs">General Docs</a></span></li><li><span><a class="footer-link" href="https://packagecloud.io/docs/api">API Docs</a></span></li><li><span><a class="footer-link" href="https://packagecloud.io/docs#cli">Command Line Interface</a></span></li></ul><ul class="footer-group"><li class="header">Community</li><li><span><a class="footer-link" href="https://packagecloud.io/blog">Blog</a></span></li><li><span class="hosted"><a class="footer-link" href="http://bit.ly/packagecloud-users">Slack</a></span></li><li><span class="hosted"><a class="footer-link " href="http://www.packagecloudstatus.io/">Status</a></span></li><li><span class="hosted"><a class="footer-link" href="https://packagecloud.io/contact">Contact</a></span></li></ul><ul class="footer-group"><li class="header">Legal</li><li><span><a class="footer-link" href="https://packagecloud.io/legal/tos">Terms of Service</a></span></li><li><span><a class="footer-link" href="https://packagecloud.io/legal/privacy">Privacy Policy</a></span></li></ul></footer></div><link href="signing-deb-package_files/css_002.css" rel="stylesheet" type="text/css"><link href="signing-deb-package_files/css.css" rel="stylesheet" type="text/css"> <script src="signing-deb-package_files/jquery.js"></script> <script type="text/javascript" src="signing-deb-package_files/jquery-scrollspy-3239a742ef7f1afbd87efc4207edcca8d2411b52bee9.js"></script> <script type="text/javascript" src="signing-deb-package_files/callouts-d9311f26983a43a1014cd78d12a20ba8f5b0b60573c057d2c23d.js"></script> <script type="text/javascript" src="signing-deb-package_files/callout-visibility-b237f8673a114344ccc470744718a9152052dec777.js"></script> <script type="text/javascript" src="signing-deb-package_files/backtop-862e2ebd2ae85fcd4d8787a4e9d1b1768548d9cdd61d9c75e4487.js"></script> <script type="text/javascript" src="signing-deb-package_files/newsletter-slidein-1aeb34f977fbac695efea4b081fa0e3c638c934ec4.js"></script> <script type="text/javascript" src="signing-deb-package_files/picturefill.js"></script> <script type="text/javascript" src="signing-deb-package_files/nav-97113b7f081b3f5c17dfa83cf441aa5a6c38941c9774afe38bda0bbce.js"></script><div id="cookie-popover" class="cookie-popover" style="display: flex;"><p>We use cookies to enhance the user experience on packagecloud.<br>By using our site, you acknowledge that you have read and understand our <br> <a href="https://packagecloud.io/legal/cookies">Cookie Policy</a>, <a href="https://packagecloud.io/legal/privacy">Privacy Policy</a>, and our <a href="https://packagecloud.io/legal/tos">Terms of Service</a>.</p><div class="button-container"> <a href="javascript:;" onclick="closeCookiePopover()" id="cookie-consent" class="btn close"><span class="glyphicon glyphicon-ok"></span></a></div></div>
<div class="fbc-badge js-fbc-UID_1 fbc-badge-small fbc-badge-share-passive fbc-badge-share" style="z-index: 2; left: 1219.75px; top: 10107.6px;"><div class="fbc-badge-fence"></div><div class="fbc-badge-tooltip">If you click this button, Facebook will be able to track your visit to this site.</div><div class="fbc-badge-prompt"></div></div></body></html>